'''
Created on Apr 18, 2018

@author: ashaman
'''
from output.output_plugin import OutputPlugin
from analyzers.Analyst import Analyst
from utils.utilities import banner

class ConsoleOutputPlugin(OutputPlugin):

  def print_process_summary(self, report_data):

    for data in report_data:
      if data[0] == Analyst.DATA_TYPE_INFO:
        print("\n%s\n" % data[1])
      elif data[0] == Analyst.DATA_TYPE_TABLE_DESCRIPTION:
        print("\n%s\n" % data[1])
      elif data[0] == Analyst.DATA_TYPE_TABLE_DATA:
        print(data[1])
        print("Number of results:  %s\n" % len(data[1]))
      else:
        print(data[1])


  def print_process_report(self, pid, descriptor, image, report_data):
    for data in report_data:
      if data[0] == Analyst.DATA_TYPE_PROCESS_INFO:
        print("%s\n" % data[1])
      elif data[0] == Analyst.DATA_TYPE_ANALYST_HEADING:
        print("\n")
        print(banner(data[1], "=", 80))
      elif data[0] == Analyst.DATA_TYPE_ANALYST_PROCESS_DATA:
        self.print_process_report(pid, descriptor, image, data[1])
      elif data[0] in [Analyst.DATA_TYPE_TABLE_DATA, Analyst.PROCESS_ANALYST_SCORES_TABLE]:
        print(data[1])
        print("Number of results:  %s\n" % len(data[1]))
        print("\n")
      else:
        print(data[1])